<div class="row">
	<div class="col-lg-12">
		<h1 class="page-header">{{model.meta.total}} Categorias</h1>
	</div>
	<!-- /.col-lg-12 -->
</div>

<div class="row">
  <div class="col-lg-12">
      <div class="panel panel-default">
          <div class="panel-heading">
            {{#link-to 'category.new'}}
              <button type="button" class="btn btn-primary">
                <i class="fa fa-plus"></i> Adicionar Nova
              </button>
              {{/link-to}}
          </div>
          <!-- /.panel-heading -->
          <div class="panel-body">
              <div class="dataTable_wrapper">
                  <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
                      <thead>
                          <tr>
                              <th>#</th>
                              <th>Nome</th>
                              <th>√çcone</th>
                              <th>Produtos</th>
                              <th>Subcategorias</th>
                          </tr>
                      </thead>
                      <tbody>
                      	{{#each model as |category|}}
                          <tr class="odd gradeX">
                              <td>{{category.id}}</td>
                              <td>
                                {{input-edit model=category value=category.name}}
                              </td>
                              <td>
                                {{input-edit model=category value=category.icon}}
                              </td>
                              <td>{{category.products.length}}</td>
                              <td>
                                {{#each category.subcategories as |subcategory|}}
                                  {{#link-to 'subcategory'}} {{subcategory.name}} {{/link-to}} |
                                {{/each}}
                              </td>
                          </tr>
                          {{/each}}
                      </tbody>
                  </table>
              </div>
              <!-- /.table-responsive -->
          </div>
          <!-- /.panel-body -->
      </div>
      <!-- /.panel -->
  </div>
  <!-- /.col-lg-12 -->
</div>
{{ember-pagination perPage=10 limit=5 content=model total=model.meta.total loadAction='changePage'}}
